@use "bootstrap" as v;

.v-card {
	background-color: v.$c-primary;
	box-shadow: var(--box-shadow);

	&__link {
		color: #fff;
		transition: color .15s ease-out;

		&:hover {
			color: #fff;
		}
	}

	&__link:hover &__bg-overlay {
		opacity: .9;

		&::after {
			transform: scale(1) skewX(0);
		}
	}

	&__link:focus &__bg-overlay,
	&__link:active &__bg-overlay {
		opacity: .9;

		&::after {
			transform: scale(1) skewX(0);
		}
	}

	&__link:hover &__content-cta::before {
		transform: translate(15px, -50%) rotate(45deg);
	}

	&__link:hover &__content-cta::after {
		transform: scaleX(1.15) translate(10px, -50%);
	}

	&__link:hover &__content-subtitle {
		color: #fff;
		opacity: 1;
		transform: translateY(0);
	}

	&__inner {
		position: relative;
	}

	&__bg {
		position: relative;
		height: clamp(400px, 50vw, 600px);

		&-overlay {
			content: "";
			position: absolute;
			bottom: 0;
			left: 0;
			background-color: v.$c-primary;
			width: 100%;
			height: 100%;
			transform: scaleY(1);
			transform-origin: bottom;
			z-index: 1;
			opacity: .7;
			overflow: hidden;
			transition: opacity .15s ease-out;

			&::after {
				content: "";
				position: absolute;
				bottom: 0;
				left: 0;
				width: 100%;
				height: 100%;
				// background-color: rgba(0, 0, 0, .6);
				background-color: v.$c-primary-hover;
				transform: scale(1) skewX(-60deg);
				transform-origin: bottom;
				transition: transform .3s ease-out;
				z-index: 1;
			}
		}

		&-img {
			position: absolute;
			top: 50%;
			left: 50%;
			width: 100%;
			height: 100%;
			transform: translate(-50%, -50%);
			object-fit: cover;
			object-position: center;

		}
	}

	&--fourth &__bg {
		position: relative;
		height: clamp(400px, 40vw, 500px);
	}

	&--leader &__bg-overlay {
		opacity: 0;
	}

	&--leader &__bg-overlay {
		&::after {
			display: none;
		}
	}

	&__content {
		padding: v.spacing("xsmall");
		position: absolute;
		bottom: 0;
		left: 0;
		z-index: 1;
		width: 100%;
		height: 100%;

		&:hover {
			overflow-y: auto;
		}
	}

	&__content-title {
		margin-bottom: .75rem;
		z-index: 1;
	}

	&--leader &__content-title {
		position: absolute;
		width: 100%;
		bottom: 0;
		left: 0;
		margin: 0;
		padding: 2rem 1.25rem 3rem 2rem;
		background-color: v.$c-secondary;
		@include v.font-size("epsilon");
		transition: opacity .25s ease-out;
	}

	&--leader &__content {
		padding: 2rem 1.25rem 2rem 2rem;
	}

	&--leader &__content-position {
		position: absolute;
		width: 100%;
		bottom: 0;
		left: 0;
		margin: 0;
		padding: 2rem 2rem 1.5rem;
		z-index: 1;
		transition: opacity .15s ease-out;
	}

	&--leader &__content:hover &__content-title,
	&--leader &__content:hover &__content-position {
		opacity: 0;
	}

	&__content-subtitle {
		@include v.font-size("epsilon");
		font-weight: 400;
		opacity: 0;
		overflow: hidden;
		line-height: 1.3;
		transform: translateY(.5rem);
		transition: transform .6s ease-out, opacity .5s ease-out;
		overflow-y: auto;
	}

	&--leader &__content-subtitle {
		@include v.font-size("zeta");
	}

	&__content-cta {
		position: absolute;
		bottom: clamp(3rem, 4vw, 5rem);
		right: clamp(3rem, 4vw, 5rem);

		&::before {
			content: "";
			position: absolute;
			top: 50%;
			right: 0;
			border-top: 3px solid #fff;
			border-right: 3px solid #fff;
			// border-radius: 4px;
			width: 24px;
			height: 24px;
			transform: translateY(-50%) rotate(45deg);
			transition: transform .5s ease-out;
		}

		&::after {
			content: "";
			position: absolute;
			top: 50%;
			right: -1px;
			background-color: #fff;
			width: 48px;
			height: 3px;
			border-radius: 24242px;
			transform: translateY(-50%);
			transition: transform .5s ease-out;
		}
	}

	&--leader &__content-cta {
		&::before {
			display: none;
		}

		&::after {
			right: -50%;
			display: none;
		}
	}

	&--leader &__link:focus &__content {
		overflow-y: auto;
	}

	&--leader &__link:focus &__content-title,
	&--leader &__link:active &__content-title,
	&--leader &__link:focus &__content-position,
	&--leader &__link:active &__content-position {
		opacity: 0;
	}

	&--leader &__link:hover &__bg-overlay,
	&--leader &__link:focus &__bg-overlay,
	&--leader &__link:active &__bg-overlay {
		opacity: .8;
		background-color: var(--c-primary-hover);

		&::after {
			transform: scale(1) skewX(0);
		}
	}

	&__link:focus &__content-subtitle,
	&__link:active &__content-subtitle {
		color: #fff;
		opacity: 1;
		transform: translateY(0);
	}
}

@media screen and (min-width: v.$b-medium) {
	.v-card {
		&--tablet {
			display: none;
		}
	}
}

@media screen and (min-width: v.$b-medium) and (max-width: v.$b-large) {
	.v-card {
		&__content-title {
			@include v.font-size("delta");
		}

		&__content-subtitle {
			// display: none;
			font-size: 1rem;
		}
	}
}

@media screen and (max-width: v.$b-medium) {
	.v-card {
		.blog &--tablet {
			display: none;
		}

		&--tablet &__bg-overlay {
			content: "";
			position: absolute;
			bottom: 0;
			left: 0;
			background-color: v.$c-primary;
			width: 100%;
			height: 100%;
			transform: scaleY(1);
			transform-origin: bottom;
			z-index: 1;
			opacity: 1;
			overflow: hidden;
			transition: opacity .15s ease-out;

			&::after {
				content: "";
				position: absolute;
				bottom: 0;
				left: 0;
				width: 100%;
				height: 100%;
				// background-color: rgba(0, 0, 0, .6);
				background-color: v.$c-primary-hover;
				transform: scale(1) skewX(-60deg);
				transform-origin: bottom;
				// transition: transform .15s ease-out;
				z-index: 1;
			}
		}

		&--tablet &__link:hover &__bg-overlay {
			opacity: 1;
		}

		&__content-subtitle {
			color: #fff;
			width: 100%;
			opacity: 0;
			font-size: 1rem;
		}
	}
}
